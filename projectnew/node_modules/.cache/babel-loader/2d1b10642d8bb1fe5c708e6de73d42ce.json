{"ast":null,"code":"import _classCallCheck from \"/home/perfectperformance/Desktop/projectnew/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/home/perfectperformance/Desktop/projectnew/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/perfectperformance/Desktop/projectnew/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/home/perfectperformance/Desktop/projectnew/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/perfectperformance/Desktop/projectnew/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/perfectperformance/Desktop/projectnew/src/components/main_page/component.js\";\nimport React, { Component } from 'react';\nimport { GraphQLClient } from 'graphql-request';\nvar gql = new GraphQLClient(\"http://localhost:4000/graphql\", {\n  headers: {}\n});\nexport var MainPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainPage, _Component);\n\n  _createClass(MainPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      gql.request(\"query getI{\\n        getIngridients{\\n            title,\\n                description\\n\\n        }}\", {\n        id: 5\n      }).then(function (data) {\n        return _this2.setState({\n          ingridientsList: data.getIngridients\n        });\n      });\n      var promise = fetch('http://localhost:4000/user_form', {\n        method: 'post'\n      });\n      promise.then(function (response) {\n        console.log(response.json());\n      });\n    }\n  }]);\n\n  function MainPage(props) {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainPage).call(this, props));\n\n    _this.handleClick = function (e) {\n      var _this$state = _this.state,\n          recipeDescription = _this$state.recipeDescription,\n          recipeName = _this$state.recipeName;\n      gql.request(\"mutation  createRecipe(\\n            $title:String!, $text:String!, $description:String!){\\n            createRecipe(\\n                title:$title, text:$text, description:$description\\n            )\\n            {\\n                title, description, text\\n            }}\", {\n        title: recipeName,\n        text: recipeText,\n        description: recipeDescription\n      }).then(function (data) {\n        return _this.setState(recipeName, recipeDescription, recipeText);\n      });\n    };\n\n    _this.handleDescription = function (e) {\n      _this.setState({\n        recipeDescription: e.target.value\n      });\n    };\n\n    _this.handleName = function (e) {\n      _this.setState({\n        recipeName: e.target.value\n      });\n    };\n\n    _this.state = {\n      ingridientsList: [],\n      recipeName: null,\n      recipeDescription: null\n    };\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        className: \"fpage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"group_header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" \\u041C\\u043E\\u0438 \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u044B\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, this.state.ingridientsList.map(function (item, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, item.title);\n      })), React.createElement(\"input\", {\n        onChange: this.handleName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        onChange: this.handleDescription,\n        placeholder: \"\\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u0430\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\")));\n    }\n  }]);\n\n  return MainPage;\n}(Component);","map":{"version":3,"sources":["/home/perfectperformance/Desktop/projectnew/src/components/main_page/component.js"],"names":["React","Component","GraphQLClient","gql","headers","MainPage","request","id","then","data","setState","ingridientsList","getIngridients","promise","fetch","method","response","console","log","json","props","handleClick","e","state","recipeDescription","recipeName","title","text","recipeText","description","handleDescription","target","value","handleName","map","item","index"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { GraphQLClient } from 'graphql-request'\n\nconst gql = new GraphQLClient(\"http://localhost:4000/graphql\", { headers: {} })\nexport class MainPage extends Component{\n    componentDidMount() {\n\n        gql.request(`query getI{\n        getIngridients{\n            title,\n                description\n\n        }}`, {id:5}).then(data=> this.setState({ingridientsList: data.getIngridients}))\n\n        let promise = fetch('http://localhost:4000/user_form', {\n            method:'post'\n        });\n        promise.then((response) => {\n            console.log(response.json())\n        })\n    }\n\n    constructor(props){\n        super(props);\n        this.state = {\n            ingridientsList:[],\n            recipeName: null,\n            recipeDescription: null,\n\n\n        }\n    }\n\n    handleClick = (e) => {\n        const {\n            recipeDescription,recipeName\n        } = this.state;\n        gql.request(`mutation  createRecipe(\n            $title:String!, $text:String!, $description:String!){\n            createRecipe(\n                title:$title, text:$text, description:$description\n            )\n            {\n                title, description, text\n            }}`, {title:recipeName, text:recipeText, description:recipeDescription})\n            .then(data => this.setState(recipeName,recipeDescription, recipeText))\n    };\n\n    handleDescription = (e) => {\n\n        this.setState({recipeDescription: e.target.value})\n    };\n\n    handleName = (e) => {\n        this.setState({recipeName: e.target.value})\n    };\n\n    render(){\n        console.log(this.state)\n        return(\n           <div className='fpage'>\n               <section className='group_header'>\n                   <h1> Мои рецепты</h1>\n               </section>\n               <div>\n                   <select>\n                       {\n                           this.state.ingridientsList.map(( item, index) => {\n                              return (\n                                  <option key={index} value={item.id}>{item.title}</option>\n                              )\n                           })\n                       }\n                   </select>\n                        <input onChange={this.handleName}/>\n                       <textarea onChange={this.handleDescription} placeholder=\"название рецепта\"></textarea>\n\n                       <button onClick={this.handleClick}>Отправить</button>\n\n\n               </div>\n           </div>\n\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}